%%%% usepackage %%%
%optionなしpackage
\usepackage{amsmath,mathtools,amssymb,amsfonts}%数式関係
\usepackage{bm,wasysym,pxjahyper,color,ulem,array,arydshln,url}%文字・文章関係
\usepackage{tcolorbox,multicol,textpos,algorithm,algorithmic,xparse}%構成関係
\usepackage{subfig,wrapfig,here,tikz,caption,graphicx,animate}%図関係
\usepackage[numbers]{natbib}

%library
\tcbuselibrary{skins} % tcolorboxでenhancedを利用

%%% design %%%
\definecolor{skyblue}{RGB}{6,176,240}
\definecolor{beamer@shimura}{RGB}{0, 110, 79}
\setbeamercolor{structure}{fg=black}
\setbeamertemplate{navigation symbols}{}%ナビゲーションシンボルを非表示に
\usefonttheme{professionalfonts}%数式をヒラギノに変更する設定を無効化
\setbeamercolor{itemize item}{fg=beamer@shimura}
\setbeamercolor{itemize subitem}{fg=beamer@shimura}
\setbeamercolor{itemize subsubitem}{fg=beamer@shimura}
\setbeamertemplate{itemize item}{\checkmark}
\setbeamertemplate{itemize subitem}[triangle]
\setbeamertemplate{itemize subsubitem}{$\bullet$}

%%% Title page の変更 %%%
\setbeamertemplate{title page}{%
    {%
        \usebeamercolor[fg]{title}
        \usebeamerfont{title}
        \huge
        \inserttitle
    }
    \par
    {%
        \color{beamer@shimura}
        \rule{\linewidth}{1pt}
    }
    \par
    {%
        \usebeamercolor[fg]{author}
        \usebeamerfont{author}
        % \begin{flushright}
        \Large
        \insertauthor
        \vspace{10pt}
        \\{\small \insertinstitute}
        % \end{flushright}
        % \quad -- \; 
    }
    \par\medskip
    {%
        \usebeamercolor[fg]{date}
        \usebeamerfont{date}
        % \quad -- \; \insertdate
        \begin{flushright}
            \insertdate
        \end{flushright}
    }
}

%%% table of contents の変更 %%%
\setbeamercolor{section number projected}{bg=white,fg=black}
\setbeamercolor{subsection number projected}{bg=white,fg=black}
\setbeamertemplate{section in toc}{%
    \leavevmode\leftskip=1.75ex%
    \llap{%
        \usebeamerfont*{section number projected}%
        \usebeamercolor[bg]{section number projected}%
        \vrule width2.25ex height1.85ex depth.4ex%
        \hskip-2.25ex%
        \hbox to2.25ex{\large \hfil\color{fg}$\mathbf{\inserttocsectionnumber}$\hfil}
        \hskip-1.25ex
    }%
    {\Large .}\kern1.25ex\inserttocsection\par
}
\setbeamertemplate{subsection in toc}{%
    \leavevmode\leftskip=1.75ex%
    \kern3.0ex%
    \small
    \llap{%
        \usebeamerfont*{subsection number projected}%
        \usebeamercolor[bg]{subsection number projected}%
        \vrule width2.25ex height1.85ex depth.4ex%
        \hskip-2.25ex%
        \hbox to2.25ex{\hfil\color{fg}$\mathbf{\inserttocsubsectionnumber}$\hfil}
        \hskip-1.25ex
    }%
    {\normalsize .}\kern1.25ex\inserttocsubsection\par
}

%%% frame title の変更 %%%
\newlength\bodywd
\setlength\bodywd{.95\linewidth}
\setbeamerfont{frametitle}{series=\bfseries}%フレームタイトルのフォントを太字に
\setbeamertemplate{frametitle}{%
    \hspace{10pt}{\LARGE\insertframetitle}%
    \\\vspace{-.8zh}
    \begin{beamercolorbox}{frametitle}
        \begin{tikzpicture}
            \draw[beamer@shimura, line width=1pt] (0.9,-0.05)--(1.05\bodywd,-0.05);
            \draw[black, line width=1pt] (0,0)--(0.95\bodywd,0);
        \end{tikzpicture}
    \end{beamercolorbox}
}

%%% footline の変更%%%
\definecolor{nu-1}{RGB}{0, 95, 65}
\setbeamercolor{shimura-1}{fg=white,bg=beamer@shimura}
\setbeamercolor{shimura-2}{fg=white,bg=nu-1}
\setbeamertemplate{footline}
{
  \leavevmode%
  \hbox{%
  \begin{beamercolorbox}[wd=.500\paperwidth,ht=2.5ex,dp=1.25ex,center]{shimura-1}%
    \usebeamerfont{date in head/foot}
    \ifthenelse{\equal{\insertsubsection}{}}{\insertsection}{\insertsection \hspace{1zh}/\hspace{.5zh} \insertsubsection}
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.500\paperwidth,ht=2.5ex,dp=1.25ex,center]{shimura-2}%
    \usebeamerfont{title in head/foot}
    Page \hspace{1zh}
    \insertframenumber{} / \inserttotalframenumber\hspace*{2ex}
\end{beamercolorbox}
  }%
}

%%% block の変更 %%%
\tcbuselibrary{skins} % tcolorboxでenhancedを利用
\newtcolorbox{tblock}[2][]{
    enhanced,
    title={\vspace{1pt}\large\textbf{#2}},
    colframe=beamer@shimura,
    colbacktitle=white,
    colback=white,
    coltitle=black,
    top=1mm, bottom=1mm, left=1mm, right=1mm,
    boxrule=0.65pt,
    frame style={left color=black,
        right color=beamer@shimura}, 
    title style={left color=white,
        right color=beamer@shimura},
%    boxed title style={sharp corners=all, boxrule=-10pt}, #1
}
\renewenvironment{block}[1]{\begin{tblock}{#1}}{\end{tblock}}

%%% newcommand/environment %%%
\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\blue}[1]{\textcolor{blue}{#1}}
\newcommand{\skyblue}[1]{\textcolor{skyblue}{#1}}
\newcommand{\green}[1]{\textcolor{green}{#1}}
\newcommand{\black}[1]{\textcolor{black}{#1}}
\newcommand{\argmax}{\mathop{\rm arg~max}\limits}
\newcommand{\argmin}{\mathop{\rm arg~min}\limits}
\newcommand{\myfigure}[2][1.0]{\begin{figure}[h]\centering\includegraphics[width=#1\linewidth]{fig/#2}\end{figure}}
\newcommand{\mycapfigure}[3][1.0]{\begin{figure}[h]\centering\includegraphics[width=#1\linewidth]{fig/#2}\caption{#3}\end{figure}}
\newcommand{\vs}{\vspace{10pt}}
\newcommand{\cl}{:\ }
\newcommand{\ra}{$\rightarrow$\ }
\newcommand{\la}{$\leftarrow$}
\newcommand{\Ra}{$\Rightarrow$\ }
\newcommand{\La}{$\Leftarrow$}
\newcommand{\ua}{$\uparrow$}
\newcommand{\Ua}{$\Uparrow$}
\newcommand{\da}{$\downarrow$}
\newcommand{\Da}{$\Downarrow$}
\renewcommand{\baselinestretch}{1.3}
\renewcommand\algorithmicrequire{\textbf{Input:}}
\renewcommand\algorithmicensure{\textbf{Output:}}
\renewcommand{\kanjifamilydefault}{\gtdefault}% 既定をゴシック体に
\renewcommand{\thefootnote}{}{\footnotetext{}}